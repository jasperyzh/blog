---
// import { Debug } from "astro/components";
// import { Image } from "@astrojs/image/components";
import { slugify, dateToNumber } from "../layouts/_Utils";
import Link from "./Link.astro";

const { data, url, heading, classes } = Astro.props;

const Heading = heading;

const {
  title = "",
  pubDate = "",
  // image = "",
  description = "",
  tag = "",
} = data;

const image = url;
---

<article class:list={["card", classes]}>
  <img
    class="card-img"
    width="92"
    height="92"
    src={`/assets/${image}.png`}
  />
  <div class="content">
    <p class="meta">
      {dateToNumber(pubDate)} | {tag.join(", ")}
    </p>
    <Heading class="title">
      <Link href={`/blog/${url}/`}>
        {title}
      </Link>
    </Heading>
    <p>{description}</p>
  </div>
</article>
<style>
  .card {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
  }
  .card * {
    margin: 0;
    padding: 0;
  }
  .meta {
    font-size: var(--size-sm);
  }
  .title {
    font-size: var(--h3);
  }
  .card-img {
    aspect-ratio: 1/1;
    object-fit: cover;
  }
</style>
